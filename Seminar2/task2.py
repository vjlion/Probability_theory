# 2. Вероятность того, что лампочка перегорит в течение 
# первого дня эксплуатации, равна 0.0004. В жилом комплексе 
# после ремонта в один день включили 5000 новых лампочек. 
# Какова вероятность, что ни одна из них не перегорит в 
# первый день? Какова вероятность, что перегорят ровно две?

# 1. Для решения этой задачи мы можем использовать распределение Пуассона, 
# так как вероятности небольшой вероятности того, что лампочка перегорит 
# за один день, могут быть моделированы распределением Пуассона. Формула 
# распределения Пуассона выглядит следующим образом:

# P(X = k) = (e^(-λ)  λ^k) / k!

# где:
# X - случайная величина
# λ - среднее количество перегоревших лампочек за единицу времени
# k - количество перегоревших лампочек за единицу времени

# Здесь λ = np, где n - количество испытаний, а p - вероятность успеха в каждом испытании.

# В нашем случае:

# n = 5000
# p = 0.0004
# λ = np = 5000  0.0004 = 2


import math

n = 5000
p = 0.0004
λ = n * p

# вероятность того, что ни одна лампочка не перегорит
prob_0 = math.exp(-λ) * λ**0 / math.factorial(0)
print("Вероятность того, что ни одна лампочка не перегорит:", prob_0)

# вероятность того, что ровно две лампочки перегорят
prob_2 = math.exp(-λ) * λ**2 / math.factorial(2)
print("Вероятность того, что ровно две лампочки перегорят:", prob_2)


# Ответ: вероятность того, что ни одна лампочка не перегорит в первый день,
# составляет примерно 0.135, а вероятность того, что перегорят ровно две лампочки, 
# составляет примерно 0.270.

# 2. Обратите внимание, что эта вероятность рассчитывается как вероятность того, 
# что две лампочки перегорят, а остальные не портятся. Эта вероятность может быть 
# найдена с использованием биномиального распределения вероятности, аналогично первой задаче.

import math

n = 5000
p = 0.0004

# вероятность того, что ровно две лампочки перегорят
prob_2 = math.comb(n, 2) * p**2 * (1-p)**(n-2)
print("Вероятность того, что ровно две лампочки перегорят:", prob_2)


# Ответ: вероятность того, что ровно две лампочки перегорят 
# в первый день эксплуатации, составляет примерно 0.270.